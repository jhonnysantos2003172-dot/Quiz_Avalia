<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Pagamento Pix</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script src="https://cdn.jsdelivr.net/npm/qrcodejs/qrcode.min.js"></script>

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: linear-gradient(180deg,#8B0000,#330000);
  color: #fff;
  display: flex;
  align-items: center;
  justify-content: center;
  height: 100vh;
}

.pix-container {
  background:#C90000;
  border-radius:16px;
  padding:24px;
  width:90%;
  max-width:420px;
  box-shadow:0 0 25px rgba(0,0,0,0.5);
  text-align:center;
}

h1 { color: #fff; margin-bottom: 10px; font-size: 24px; }
p { color: #fff; margin-bottom: 20px; font-weight: bold; }

#qrcode { margin: 20px auto; background: #fff; padding: 12px; border-radius: 12px; width: fit-content; }

textarea {
  width: 100%; height: 130px; background: #330000; color: #fff;
  border: 1px solid #fff; border-radius: 8px; padding: 10px; resize: none; font-size: 14px; margin-top: 10px;
  white-space: pre-wrap;
}

button {
  margin-top: 15px; width: 100%; padding: 14px; background: #C90000; color: #fff;
  font-weight: bold; border: none; border-radius: 10px; cursor: pointer; font-size: 16px; transition: 0.2s;
}
button:hover { background: #a70000; }

.status { margin-top: 10px; color: #0f0; display: none; font-weight: bold; }
</style>
</head>

<body>
<div class="pix-container">
  <h1>Pagamento Pix</h1>
  <p>Escaneie o QR Code ou copie o c√≥digo Pix</p>

  <div id="qrcode"></div>
  <textarea id="pixCode" readonly>Gerando Pix...</textarea>
  <button onclick="copiarPix()">üìã Copiar Pix</button>
  <div id="status" class="status">Pix copiado com sucesso ‚úî</div>
</div>

<script>
// Chave Pix base (n√£o aparece no cliente) e valor unit√°rio
const CHAVE_PIX_BASE = "00020101021226880014br.gov.bcb.pix2566qrcode.microcashif.com.br/pix/f30bbbe7-31ad-4ce6-b0d7-9c22c9386f7c5204000053039865802BR5915PagamentoSeguro6008SaoPaulo61080115300062070503***630412E0";
const VALOR_UNITARIO = 49.90; // R$49,90

function gerarPix(){
  const qtd = parseInt(localStorage.getItem("pix_qtd")) || 1;
  const valorTotal = (VALOR_UNITARIO * qtd).toFixed(2).replace(".",",");

  // Adiciona valor total no Pix (copia e cola)
  let pixCode = CHAVE_PIX_BASE.replace("49,90", valorTotal);

  // Adiciona info do valor total para visualiza√ß√£o do cliente
  pixCode += `\n\nValor Total: R$ ${valorTotal}`;

  document.getElementById("pixCode").value = pixCode;

  // Gera QR Code
  document.getElementById("qrcode").innerHTML = "";
  new QRCode(document.getElementById("qrcode"), {
    text: pixCode,
    width: 200,
    height: 200
  });
}

function copiarPix(){
  const pix=document.getElementById("pixCode");
  pix.select();
  pix.setSelectionRange(0,99999);
  document.execCommand("copy");
  document.getElementById("status").style.display="block";
}

// Gera Pix automaticamente ao abrir a p√°gina
gerarPix();
</script>

</body>
</html>
